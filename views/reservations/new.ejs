<% include ../partials/header %> 


<h1 class="title">Create new reservation!</h1>
<hr>
<a href="/reservations" class="btn btn-dark" id="backButton">&lt&lt Back</a>

<div class="row">
    <form action="/reservations" method="POST" id="formUser">
        <div class="userData">
            <h3>User:</h3>
            <div class="form-group">
                <input class="form-control" pattern="[0-9]*[a-zA-Z]+[a-zA-Z0-9]*" oninvalid="this.setCustomValidity('Username may contain only letters and numbers without spacing.')" oninput="this.setCustomValidity('')" maxlength="50" autocomplete="off" required type="text" id="usernameRes" name="username" placeholder="username" value="<% if(typeof oldValues !== "undefined"){ %><%= oldValues.username %><% } %>">
                <input class="form-control" maxlength="15" autocomplete="off" required type="password" name="password" placeholder="password" value="<% if(typeof oldValues !== "undefined"){ %><%= oldValues.password %><% } %>">
            </div>
        </div>
        <hr>
        <div class="userData">
            <h3>Room:</h3>
            <div class="form-group">
                <select multiple class="form-control" required name="roomId">
                    <% rooms.forEach(function(room){ %>
                        <option <% if(typeof oldValues !== "undefined" && oldValues.roomId === room.name){ %><%= "selected" %><% } %>><%= room.name %></option>
                    <% }); %>
                </select>
            </div>
        </div>
        <hr>
        <div class="userData">
            <h3>Topic:</h3>
            <div class="form-group">
                <input class="form-control" pattern="[0-9]*[a-zA-Z0-9]+(\s[a-zA-Z0-9\\/]+)*" oninvalid="this.setCustomValidity('Topic may contain only letters and numbers with spacing.')" oninput="this.setCustomValidity('')" maxlength="50" autocomplete="off" required type="text" name="topic" placeholder="reservation's topic" value="<% if(typeof oldValues !== "undefined"){ %><%= oldValues.topic %><% } %>">
            </div>
        </div>
        <hr>
        <div class="userData">
            <h3>Start date:</h3>
            <div class="form-group">
                <input class="form-control" pattern="[1-9][0-9]{3}\/(([0][1-9])|([1][0-2]))\/(([0-2][0-9])|([3][0-1])) (([0-1][0-9])|([2][0-4])):(([0-5][0-9])|([6][9]))" oninvalid="this.setCustomValidity('Date format: yyyy/mm/dd hh:mm')" oninput="this.setCustomValidity('')" autocomplete="off" id="datetimepickerStart" required type="text" placeholder="yyyy/mm/dd hh:mm" name="start" value="<% if(typeof oldValues !== "undefined"){ %><%= oldValues.start %><% } %>">
            </div>
        </div>
        <hr>
        <div class="userData">
            <h3>End date:</h3>
            <div class="form-group">
                <input class="form-control" pattern="[1-9][0-9]{3}\/(([0][1-9])|([1][0-2]))\/(([0-2][0-9])|([3][0-1])) (([0-1][0-9])|([2][0-4])):(([0-5][0-9])|([6][9]))" oninvalid="this.setCustomValidity('Date format: yyyy/mm/dd hh:mm')" oninput="this.setCustomValidity('')" autocomplete="off" id="datetimepickerEnd" required type="text" placeholder="yyyy/mm/dd hh:mm" name="end" value="<% if(typeof oldValues !== "undefined"){ %><%= oldValues.end %><% } %>">
            </div>
        </div>

        <div class="form-group formUserButtons">
            <button class="btn btn-lg btn-primary btn-block">
                Create reservation!
            </button>
            <input class="form-control" type="button" value="Reset" id="reset">
        </div>
    </form>
</div>




<% include ../partials/footer %> 
